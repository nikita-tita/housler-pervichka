# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥ Housler

> –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ.
> –û–±–Ω–æ–≤–ª—è–π –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º –∏–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö.

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-12-05

---

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç

1. **–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã** ‚Äî –ø—Ä–æ–≤–µ—Ä—å, –Ω–µ —Å–≤—è–∑–∞–Ω–∞ –ª–∏ –∑–∞–¥–∞—á–∞ —Å –∏–∑–≤–µ—Å—Ç–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π
2. **–ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∫–æ—Å—Ç—ã–ª—è** ‚Äî –¥–æ–±–∞–≤—å –µ–≥–æ —Å—é–¥–∞ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º
3. **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** ‚Äî –æ–±–Ω–æ–≤–∏ —Å—Ç–∞—Ç—É—Å –∏ –¥–æ–±–∞–≤—å –¥–∞—Ç—É

---

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

- üî¥ **CRITICAL** ‚Äî –ò—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –ø–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö)
- üü† **HIGH** ‚Äî –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤ –±–ª–∏–∂–∞–π—à–µ–º —Å–ø—Ä–∏–Ω—Ç–µ (–±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É)
- üü° **MEDIUM** ‚Äî –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥)
- üü¢ **LOW** ‚Äî –ü—Ä–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (—É–ª—É—á—à–µ–Ω–∏—è)

---

## üî¥ CRITICAL

*–í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã. –°–º. —Ä–∞–∑–¥–µ–ª "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã".*

---

## üü† HIGH

### ‚úÖ API-001: –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤
| –ê—Ç—Ä–∏–±—É—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** | 2024-12-05 |
| **–û–ø–∏—Å–∞–Ω–∏–µ** | `GET /api/offers` —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{success, data, pagination}`. Admin –∏ complexes —É–∂–µ –±—ã–ª–∏ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ. |

### ‚úÖ API-002: Type assertions –≤ frontend
| –ê—Ç—Ä–∏–±—É—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** | 2024-12-05 |
| **–û–ø–∏—Å–∞–Ω–∏–µ** | –£–±—Ä–∞–Ω—ã `as unknown as` —Ö–∞–∫–∏ –∏–∑ `offers/page.tsx` –∏ `complexes/page.tsx` |

### ‚úÖ DUP-001: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ verifyCode/verifySmsCode
| –ê—Ç—Ä–∏–±—É—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** | 2024-12-05 |
| **–û–ø–∏—Å–∞–Ω–∏–µ** | –°–æ–∑–¥–∞–Ω –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –º–µ—Ç–æ–¥ `validateAuthCode()` –¥–ª—è –æ–±—â–µ–π –ª–æ–≥–∏–∫–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞. –£–±—Ä–∞–Ω–æ ~50 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è. |

### ‚úÖ DUP-002: –†–∞–∑–Ω—ã–µ –Ω–∞–±–æ—Ä—ã —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–æ–¥–æ–≤
| –ê—Ç—Ä–∏–±—É—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** | 2024-12-05 |
| **–û–ø–∏—Å–∞–Ω–∏–µ** | –°–æ–∑–¥–∞–Ω `config/test-accounts.ts` —Å –µ–¥–∏–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ `isTestEmail()`, `isTestPhone()`, `isTestCode()` |

---

## üü° MEDIUM

### ‚úÖ ARCH-001: AuthContext –Ω–µ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ auth flows
| –ê—Ç—Ä–∏–±—É—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** | 2025-12-05 |
| **–û–ø–∏—Å–∞–Ω–∏–µ** | –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã `requestSmsCode`, `verifySmsCode`, `registerRealtor`, `loginAgency`. –°—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç AuthContext –≤–º–µ—Å—Ç–æ –ø—Ä—è–º—ã—Ö –≤—ã–∑–æ–≤–æ–≤ api.* |

### ‚úÖ ARCH-002: as unknown as number –≤ admin.controller
| –ê—Ç—Ä–∏–±—É—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** | 2025-12-05 |
| **–û–ø–∏—Å–∞–Ω–∏–µ** | –î–æ–±–∞–≤–ª–µ–Ω —Ç–∏–ø `IdParams` –≤ schemas.ts. –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `req.params as unknown as IdParams` —Å –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–µ–π. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ–±—ä—è—Å–Ω—è—é—Ç —á—Ç–æ middleware –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Ç–∏–ø. |

### TODO-001: Email –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
| –ê—Ç—Ä–∏–±—É—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–§–∞–π–ª** | `backend/src/services/auth.service.ts` |
| **–°—Ç—Ä–æ–∫–∞** | 72-74 |
| **–ü—Ä–æ–±–ª–µ–º–∞** | TODO: –û—Ç–ø—Ä–∞–≤–∏—Ç—å email —Å –∫–æ–¥–æ–º |
| **–†–µ—à–µ–Ω–∏–µ** | –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å SMTP/email —Å–µ—Ä–≤–∏—Å–æ–º |
| **–°—Ç–∞—Ç—É—Å** | ‚è≥ –û–∂–∏–¥–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ |

### TODO-002: SMS –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
| –ê—Ç—Ä–∏–±—É—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–§–∞–π–ª** | `backend/src/services/auth.service.ts` |
| **–°—Ç—Ä–æ–∫–∞** | 307-308 |
| **–ü—Ä–æ–±–ª–µ–º–∞** | TODO: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å SMS-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º |
| **–†–µ—à–µ–Ω–∏–µ** | –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å SMS —Å–µ—Ä–≤–∏—Å–æ–º |
| **–°—Ç–∞—Ç—É—Å** | ‚è≥ –û–∂–∏–¥–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ |

### ‚úÖ LINT-001: eslint-disable –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è
| –ê—Ç—Ä–∏–±—É—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** | 2025-12-05 |
| **–û–ø–∏—Å–∞–Ω–∏–µ** | –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º eslint-disable, –æ–±—ä—è—Å–Ω—è—é—â–∏–µ –ø–æ—á–µ–º—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω—ã. |

---

## üü¢ LOW

### ‚úÖ VAL-001: –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ email
| –ê—Ç—Ä–∏–±—É—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** | 2025-12-05 |
| **–û–ø–∏—Å–∞–Ω–∏–µ** | –£–¥–∞–ª–µ–Ω–∞ —Ä—É—á–Ω–∞—è regex –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏–∑ `requestCode` –∏ `verifyCode`. –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ Zod —á–µ—Ä–µ–∑ middleware. |

### ‚úÖ TYPE-001: –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ User —Ç–∏–ø—ã
| –ê—Ç—Ä–∏–±—É—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** | 2025-12-05 |
| **–û–ø–∏—Å–∞–Ω–∏–µ** | –î–æ–±–∞–≤–ª–µ–Ω—ã optional –ø–æ–ª—è `last_login_at` –∏ `created_at` –≤ frontend User —Ç–∏–ø. AdminUser –æ—Å—Ç–∞—ë—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º —Ç–∏–ø–æ–º —Å required –ø–æ–ª—è–º–∏ –¥–ª—è –∞–¥–º–∏–Ω–∫–∏. |

---

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### ‚úÖ SEC-001: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–æ–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
| –ê—Ç—Ä–∏–±—É—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** | 2024-12-05 |
| **–û–ø–∏—Å–∞–Ω–∏–µ** | –ó–∞–º–µ–Ω—ë–Ω `console.log` —Å –∫–æ–¥–∞–º–∏ –Ω–∞ `logger.info` –±–µ–∑ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö |

### ‚úÖ SEC-002: Default JWT Secret
| –ê—Ç—Ä–∏–±—É—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** | 2024-12-05 |
| **–û–ø–∏—Å–∞–Ω–∏–µ** | –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å —Ç—Ä–µ–±—É–µ—Ç JWT_SECRET –∏ –ø–∞–¥–∞–µ—Ç –±–µ–∑ –Ω–µ–≥–æ |

### ‚úÖ SEC-003: Rate limiting bypass –≤ production
| –ê—Ç—Ä–∏–±—É—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** | 2024-12-05 |
| **–û–ø–∏—Å–∞–Ω–∏–µ** | –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `NODE_ENV === 'development'` –¥–ª—è skip –ª–æ–≥–∏–∫–∏ |

### ‚úÖ SEC-004: –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ is_active –≤ verifyCode
| –ê—Ç—Ä–∏–±—É—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** | 2024-12-05 |
| **–û–ø–∏—Å–∞–Ω–∏–µ** | –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `is_active` –≤ verifyCode –∏ verifySmsCode |

### ‚úÖ AUTH-001: –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç auth responses
| –ê—Ç—Ä–∏–±—É—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** | 2024-12-05 |
| **–ö–æ–º–º–∏—Ç** | `b3b98da` |
| **–û–ø–∏—Å–∞–Ω–∏–µ** | –í—Å–µ auth endpoints —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç `{success, data: {...}}` |

### ‚úÖ DEV-001: Dev –∫–Ω–æ–ø–∫–∏ –≤–∏–¥–Ω—ã –≤ production
| –ê—Ç—Ä–∏–±—É—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** | 2024-12-05 |
| **–ö–æ–º–º–∏—Ç** | `1d92f75` |
| **–û–ø–∏—Å–∞–Ω–∏–µ** | –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `NEXT_PUBLIC_SHOW_DEV_LOGIN` |

---

## –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –ø—Ä–æ–±–ª–µ–º—É

```markdown
### ID-XXX: –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
| –ê—Ç—Ä–∏–±—É—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–§–∞–π–ª** | `–ø—É—Ç—å/–∫/—Ñ–∞–π–ª—É.ts` |
| **–°—Ç—Ä–æ–∫–∏** | XX-YY |
| **–ü—Ä–æ–±–ª–µ–º–∞** | –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã |
| **–†–∏—Å–∫/–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è** | –ß—Ç–æ –º–æ–∂–µ—Ç –ø–æ–π—Ç–∏ –Ω–µ —Ç–∞–∫ |
| **–†–µ—à–µ–Ω–∏–µ** | –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å |
| **–°—Ç–∞—Ç—É—Å** | ‚è≥ –û–∂–∏–¥–∞–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
```
