# –¢–ó –¥–ª—è –º–∞–Ω—É–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: Housler –ü–µ—Ä–≤–∏—á–∫–∞

**–í–µ—Ä—Å–∏—è:** 1.0
**–î–∞—Ç–∞:** 01.12.2025
**URL:** https://agent.housler.ru

---

## 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

### 1.1 –¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã

**–ì–æ—Ç–æ–≤—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã:**

| Email | –†–æ–ª—å | –ò–º—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|-----|----------|
| `client@test.housler.ru` | client | –¢–µ—Å—Ç–æ–≤—ã–π –ö–ª–∏–µ–Ω—Ç | –û–±—ã—á–Ω—ã–π –∫–ª–∏–µ–Ω—Ç |
| `client2@test.housler.ru` | client | –ö–ª–∏–µ–Ω—Ç –ò–≤–∞–Ω–æ–≤ | –í—Ç–æ—Ä–æ–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ç–µ—Å—Ç–æ–≤ |
| `agent@test.housler.ru` | agent | –¢–µ—Å—Ç–æ–≤—ã–π –ê–≥–µ–Ω—Ç | –ê–≥–µ–Ω—Ç (Housler) |
| `agent2@test.housler.ru` | agent | –ê–≥–µ–Ω—Ç –ü–µ—Ç—Ä–æ–≤ | –í—Ç–æ—Ä–æ–π –∞–≥–µ–Ω—Ç (Housler) |
| `agency_admin@test.housler.ru` | agency_admin | –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –ê–≥–µ–Ω—Ç—Å—Ç–≤–∞ | –ê–¥–º–∏–Ω –∞–≥–µ–Ω—Ç—Å—Ç–≤–∞ |
| `admin@test.housler.ru` | admin | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–∏—Å—Ç–µ–º—ã |

**–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –≤—Ö–æ–¥–∞:**
1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ `/login`
2. –í–≤–µ—Å—Ç–∏ email —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
3. –ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥ –∏–∑ –ª–æ–≥–æ–≤ –±—ç–∫–µ–Ω–¥–∞ (—Å–º. —Ä–∞–∑–¥–µ–ª 1.3)
4. –í–≤–µ—Å—Ç–∏ –∫–æ–¥ –∏ –≤–æ–π—Ç–∏

### 1.2 –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–¥–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–¥–ª—è QA)

```bash
# SSH –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh -i ~/.ssh/id_housler root@91.229.8.221

# –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
cd /var/www/agent.housler.ru && docker compose -f docker-compose.prod.yml logs -f backend | grep "Auth code"

# –ò–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫
docker compose -f docker-compose.prod.yml logs backend --tail=50 | grep "üìß"
```

–ö–æ–¥—ã –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ: `üìß Auth code for email@test.housler.ru: 123456`

### 1.3 –†–æ–ª–∏ –∏ –¥–æ—Å—Ç—É–ø—ã

| –†–æ–ª—å | –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã |
|------|-------------------|
| client | –ö–∞—Ç–∞–ª–æ–≥, –ò–∑–±—Ä–∞–Ω–Ω–æ–µ, –°—Ä–∞–≤–Ω–µ–Ω–∏–µ, –ü—Ä–æ—Ñ–∏–ª—å, –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ |
| agent | + –ü–æ–¥–±–æ—Ä–∫–∏, CRM –ö–ª–∏–µ–Ω—Ç—ã |
| agency_admin | + –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞–º–∏ –∞–≥–µ–Ω—Ç—Å—Ç–≤–∞ |
| admin | –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ä–∞–∑–¥–µ–ª–∞–º |

### 1.4 –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ú–∏–Ω–∏–º—É–º 3 –∞–∫—Ç–∏–≤–Ω—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏—è (offers) –≤ –±–∞–∑–µ
- –ú–∏–Ω–∏–º—É–º 1 –ñ–ö (complex) —Å –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏
- –¢–µ—Å—Ç–æ–≤—ã–π share_code –ø–æ–¥–±–æ—Ä–∫–∏ (—Å–æ–∑–¥–∞—Ç—å —á–µ—Ä–µ–∑ –∞–≥–µ–Ω—Ç–∞)

---

## 2. –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)

### 2.1 –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/`
| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|---------------------|
| 1 | –û—Ç–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω—É—é | –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –≤–∏–¥–µ–Ω Header —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º HOUSLER |
| 2 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é | –°—Å—ã–ª–∫–∏: –ö–≤–∞—Ä—Ç–∏—Ä—ã, –ñ–∏–ª—ã–µ –∫–æ–º–ø–ª–µ–∫—Å—ã, –ö–∞—Ä—Ç–∞, –í–æ–π—Ç–∏ |
| 3 | –ö–ª–∏–∫–Ω—É—Ç—å "–ö–≤–∞—Ä—Ç–∏—Ä—ã" | –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ /offers |

### 2.2 –ö–∞—Ç–∞–ª–æ–≥ –∫–≤–∞—Ä—Ç–∏—Ä `/offers`
| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|---------------------|
| 1 | –û—Ç–∫—Ä—ã—Ç—å /offers | –°–ø–∏—Å–æ–∫ –∫–≤–∞—Ä—Ç–∏—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è |
| 2 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã | –§–∏–ª—å—Ç—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç: –∫–æ–º–Ω–∞—Ç—ã, —Ü–µ–Ω–∞, –ø–ª–æ—â–∞–¥—å, —Ä–∞–π–æ–Ω |
| 3 | –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä "2 –∫–æ–º–Ω–∞—Ç—ã" | –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ 2-–∫–æ–º–Ω–∞—Ç–Ω—ã–µ |
| 4 | –°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã | –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã |
| 5 | –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É | –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ /offers/[id] |

### 2.3 –ö–∞—Ä—Ç–æ—á–∫–∞ –æ–±—ä–µ–∫—Ç–∞ `/offers/[id]`
| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|---------------------|
| 1 | –û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –æ–±—ä–µ–∫—Ç–∞ | –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å —Ñ–æ—Ç–æ, —Ü–µ–Ω–æ–π, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ |
| 2 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–∞–ª–µ—Ä–µ—é | –§–æ—Ç–æ –ª–∏—Å—Ç–∞—é—Ç—Å—è |
| 3 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–ø–æ—Ç–µ—á–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä | –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è, —Ä–∞—Å—á—ë—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç |
| 4 | **–§–æ—Ä–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω)** | –§–æ—Ä–º–∞ –ó–ê–ë–õ–Æ–†–ï–ù–ê —Å –æ–≤–µ—Ä–ª–µ–µ–º "–í–æ–π—Ç–∏" |
| 5 | –ö–ª–∏–∫–Ω—É—Ç—å "–í–æ–π—Ç–∏" –Ω–∞ –æ–≤–µ—Ä–ª–µ–µ | –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ /login |

### 2.4 –ñ–ö `/complexes`
| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|---------------------|
| 1 | –û—Ç–∫—Ä—ã—Ç—å /complexes | –°–ø–∏—Å–æ–∫ –ñ–ö –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è |
| 2 | –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –ñ–ö | –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ /complexes/[id] |
| 3 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –ñ–ö | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ñ–ö + —Å–ø–∏—Å–æ–∫ –∫–≤–∞—Ä—Ç–∏—Ä |

### 2.5 –ö–∞—Ä—Ç–∞ `/map`
| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|---------------------|
| 1 | –û—Ç–∫—Ä—ã—Ç—å /map | –ö–∞—Ä—Ç–∞ –Ø–Ω–¥–µ–∫—Å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è |
| 2 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∞—Ä–∫–µ—Ä—ã | –ú–∞—Ä–∫–µ—Ä—ã –ñ–ö –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è |
| 3 | –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –º–∞—Ä–∫–µ—Ä | –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ–ø–∞–ø —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π |

### 2.6 –ü—É–±–ª–∏—á–Ω–∞—è –ø–æ–¥–±–æ—Ä–∫–∞ `/s/[code]`
| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|---------------------|
| 1 | –û—Ç–∫—Ä—ã—Ç—å /s/[share_code] | –ü–æ–¥–±–æ—Ä–∫–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è |
| 2 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ | –û–±—ä–µ–∫—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å —Ü–µ–Ω–∞–º–∏ |
| 3 | –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –æ–±—ä–µ–∫—Ç | –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∫–∞—Ä—Ç–æ—á–∫–∞ –æ–±—ä–µ–∫—Ç–∞ |
| 4 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—á—ë—Ç—á–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ | view_count —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ë–î) |

---

## 3. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

### 3.1 –í—Ö–æ–¥ `/login`
| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|---------------------|
| 1 | –û—Ç–∫—Ä—ã—Ç—å /login | –§–æ—Ä–º–∞ —Å –ø–æ–ª–µ–º email |
| 2 | –í–≤–µ—Å—Ç–∏ email –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å | –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–æ–¥, —Ñ–æ—Ä–º–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –≤–≤–æ–¥ –∫–æ–¥–∞ |
| 3 | –í–≤–µ—Å—Ç–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥ | –û—à–∏–±–∫–∞ "–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥" |
| 4 | –í–≤–µ—Å—Ç–∏ –≤–µ—Ä–Ω—ã–π –∫–æ–¥ | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞, —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ / |
| 5 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Header | –í–º–µ—Å—Ç–æ "–í–æ–π—Ç–∏" ‚Äî –∞–≤–∞—Ç–∞—Ä —Å –∏–º–µ–Ω–µ–º/email |

### 3.2 –í—ã—Ö–æ–¥
| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|---------------------|
| 1 | –ü–µ—Ä–µ–π—Ç–∏ –≤ /profile | –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è |
| 2 | –ù–∞–∂–∞—Ç—å "–í—ã–π—Ç–∏" | –í—ã—Ö–æ–¥, —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ / |
| 3 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Header | –°–Ω–æ–≤–∞ –∫–Ω–æ–ø–∫–∞ "–í–æ–π—Ç–∏" |

---

## 4. –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∞–≥–µ–Ω—Ç—Å—Ç–≤—É (ref-–ø–∞—Ä–∞–º–µ—Ç—Ä)

### 4.1 –ó–∞—Ö–≤–∞—Ç ref –∏–∑ URL
| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|---------------------|
| 1 | –û—Ç–∫—Ä—ã—Ç—å /offers?ref=test-agency | –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è |
| 2 | –û—Ç–∫—Ä—ã—Ç—å DevTools ‚Üí Application ‚Üí Local Storage | –ö–ª—é—á `housler_agency_ref` = "test-agency" |
| 3 | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ client | –ö–ª–∏–µ–Ω—Ç –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –∫ –∞–≥–µ–Ω—Ç—Å—Ç–≤—É |
| 4 | –û—Ç–∫—Ä—ã—Ç—å /profile | –í —Ä–∞–∑–¥–µ–ª–µ "–ú–æ–∏ –∞–≥–µ–Ω—Ç—Å—Ç–≤–∞" –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ |

---

## 5. –ü—Ä–æ—Ñ–∏–ª—å –∫–ª–∏–µ–Ω—Ç–∞ `/profile`

### 5.1 –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è (—Ä–æ–ª—å: client)
| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|---------------------|
| 1 | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ client | –£—Å–ø–µ—Ö |
| 2 | –ü–µ—Ä–µ–π—Ç–∏ –≤ /profile | –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è |
| 3 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —à–∞–ø–∫—É | –ò–º—è/email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| 4 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏ | –ò–∑–±—Ä–∞–Ω–Ω–æ–µ, –ü–æ–∏—Å–∫, –°—Ä–∞–≤–Ω–µ–Ω–∏–µ |
| 5 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å "–ü–æ–¥–±–æ—Ä–∫–∏ –æ—Ç –∞–≥–µ–Ω—Ç–æ–≤" | –°–ø–∏—Å–æ–∫ –ø–æ–¥–±–æ—Ä–æ–∫ –≥–¥–µ client_email —Å–æ–≤–ø–∞–¥–∞–µ—Ç |
| 6 | –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –ø–æ–¥–±–æ—Ä–∫—É | –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ /s/[code] |

---

## 6. –ò–∑–±—Ä–∞–Ω–Ω–æ–µ `/favorites`

### 6.1 –†–∞–±–æ—Ç–∞ —Å –∏–∑–±—Ä–∞–Ω–Ω—ã–º (–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω)
| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|---------------------|
| 1 | –û—Ç–∫—Ä—ã—Ç—å /offers | –ö–∞—Ç–∞–ª–æ–≥ |
| 2 | –ù–∞–∂–∞—Ç—å —Å–µ—Ä–¥–µ—á–∫–æ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ | –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ, –∏–∫–æ–Ω–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ |
| 3 | –û—Ç–∫—Ä—ã—Ç—å /favorites | –û–±—ä–µ–∫—Ç –≤ —Å–ø–∏—Å–∫–µ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ |
| 4 | –£–¥–∞–ª–∏—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ | –û–±—ä–µ–∫—Ç –∏—Å—á–µ–∑–∞–µ—Ç |

---

## 7. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ `/compare`

### 7.1 –†–∞–±–æ—Ç–∞ —Å–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º
| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|---------------------|
| 1 | –û—Ç–∫—Ä—ã—Ç—å /offers | –ö–∞—Ç–∞–ª–æ–≥ |
| 2 | –ù–∞–∂–∞—Ç—å "–°—Ä–∞–≤–Ω–∏—Ç—å" –Ω–∞ 2-3 –∫–∞—Ä—Ç–æ—á–∫–∞—Ö | –ü–æ—è–≤–ª—è–µ—Ç—Å—è –ø–ª–∞–≤–∞—é—â–∞—è –ø–∞–Ω–µ–ª—å —Å–Ω–∏–∑—É |
| 3 | –û—Ç–∫—Ä—ã—Ç—å /compare | –¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ |
| 4 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã | –¶–µ–Ω–∞, –ø–ª–æ—â–∞–¥—å, —ç—Ç–∞–∂, –ñ–ö —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è |

---

## 8. –ü–æ–¥–±–æ—Ä–∫–∏ –∞–≥–µ–Ω—Ç–∞ `/selections`

### 8.1 –°–ø–∏—Å–æ–∫ –ø–æ–¥–±–æ—Ä–æ–∫ (—Ä–æ–ª—å: agent)
| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|---------------------|
| 1 | –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ agent | –£—Å–ø–µ—Ö |
| 2 | –ü–µ—Ä–µ–π—Ç–∏ –≤ /selections | –°–ø–∏—Å–æ–∫ –ø–æ–¥–±–æ—Ä–æ–∫ –∞–≥–µ–Ω—Ç–∞ |
| 3 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É | view_count, last_viewed_at –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è |

### 8.2 –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–±–æ—Ä–∫–∏
| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|---------------------|
| 1 | –ù–∞–∂–∞—Ç—å "–°–æ–∑–¥–∞—Ç—å –ø–æ–¥–±–æ—Ä–∫—É" | –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ |
| 2 | –ó–∞–ø–æ–ª–Ω–∏—Ç—å: –Ω–∞–∑–≤–∞–Ω–∏–µ, –∏–º—è –∫–ª–∏–µ–Ω—Ç–∞, email | –ü–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã |
| 3 | –ù–∞–∂–∞—Ç—å "–°–æ–∑–¥–∞—Ç—å" | –ü–æ–¥–±–æ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∞, –≤ —Å–ø–∏—Å–∫–µ |
| 4 | –û—Ç–∫—Ä—ã—Ç—å –ø–æ–¥–±–æ—Ä–∫—É | /selections/[id] –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è |

### 8.3 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –ø–æ–¥–±–æ—Ä–∫—É
| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|---------------------|
| 1 | –ü–µ—Ä–µ–π—Ç–∏ –≤ /offers | –ö–∞—Ç–∞–ª–æ–≥ |
| 2 | –ù–∞–∂–∞—Ç—å "–í –ø–æ–¥–±–æ—Ä–∫—É" –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ | –í—ã–±–æ—Ä –ø–æ–¥–±–æ—Ä–∫–∏ |
| 3 | –í—ã–±—Ä–∞—Ç—å –ø–æ–¥–±–æ—Ä–∫—É | –û–±—ä–µ–∫—Ç –¥–æ–±–∞–≤–ª–µ–Ω |
| 4 | –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –ø–æ–¥–±–æ—Ä–∫—É | –û–±—ä–µ–∫—Ç –≤ —Å–ø–∏—Å–∫–µ |

### 8.4 –®–∞—Ä–∏–Ω–≥ –ø–æ–¥–±–æ—Ä–∫–∏
| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|---------------------|
| 1 | –û—Ç–∫—Ä—ã—Ç—å –ø–æ–¥–±–æ—Ä–∫—É | –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–¥–±–æ—Ä–∫–∏ |
| 2 | –ù–∞–∂–∞—Ç—å "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è" | –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ —Å—Å—ã–ª–∫–æ–π |
| 3 | –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É | –°—Å—ã–ª–∫–∞ –≤ –±—É—Ñ–µ—Ä–µ |
| 4 | –û—Ç–∫—Ä—ã—Ç—å —Å—Å—ã–ª–∫—É –≤ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ | –ü—É–±–ª–∏—á–Ω–∞—è –ø–æ–¥–±–æ—Ä–∫–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è |

### 8.5 –õ–æ–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|---------------------|
| 1 | –û—Ç–∫—Ä—ã—Ç—å –ø–æ–¥–±–æ—Ä–∫—É –≤ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ | –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è |
| 2 | –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –∞–≥–µ–Ω—Ç—Å–∫–∏–π –∞–∫–∫–∞—É–Ω—Ç | /selections/[id] |
| 3 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ | "–ü—Ä–æ—Å–º–æ—Ç—Ä" —Å –¥–∞—Ç–æ–π/–≤—Ä–µ–º–µ–Ω–µ–º |

---

## 9. CRM –ö–ª–∏–µ–Ω—Ç—ã `/clients`

### 9.1 –°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤ (—Ä–æ–ª—å: agent)
| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|---------------------|
| 1 | –ü–µ—Ä–µ–π—Ç–∏ –≤ /clients | –°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤ |
| 2 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã | –ü–æ —Å—Ç–∞–¥–∏–∏, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É |

### 9.2 –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|---------------------|
| 1 | –ù–∞–∂–∞—Ç—å "–î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞" | /clients/new |
| 2 | –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É | –ò–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω, email |
| 3 | –°–æ—Ö—Ä–∞–Ω–∏—Ç—å | –ö–ª–∏–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω |

### 9.3 –í–æ—Ä–æ–Ω–∫–∞ –ø—Ä–æ–¥–∞–∂
| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|---------------------|
| 1 | –ü–µ—Ä–µ–π—Ç–∏ –≤ /clients/funnel | –ö–∞–Ω–±–∞–Ω-–¥–æ—Å–∫–∞ –ø–æ —Å—Ç–∞–¥–∏—è–º |
| 2 | –ü–µ—Ä–µ—Ç–∞—â–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ | –°—Ç–∞–¥–∏—è –º–µ–Ω—è–µ—Ç—Å—è |

---

## 10. –§–æ—Ä–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### 10.1 –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω)
| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|---------------------|
| 1 | –û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –æ–±—ä–µ–∫—Ç–∞ | /offers/[id] |
| 2 | –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Ñ–æ—Ä–º—É –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è | –§–æ—Ä–º–∞ —Å –ø–æ–ª—è–º–∏ |
| 3 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ | –ò–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω, email –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è |
| 4 | –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É | "–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!" |

### 10.2 –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω)
| –®–∞–≥ | –î–µ–π—Å—Ç–≤–∏–µ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|-----|----------|---------------------|
| 1 | –û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –æ–±—ä–µ–∫—Ç–∞ | /offers/[id] |
| 2 | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º—É –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è | –ó–ê–ë–õ–Æ–†–ï–ù–ê —Å –æ–≤–µ—Ä–ª–µ–µ–º "–í–æ–π—Ç–∏" |
| 3 | –ù–∞–∂–∞—Ç—å "–í–æ–π—Ç–∏" | –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ /login |

---

## 11. API —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Postman)

### 11.1 –ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
| –≠–Ω–¥–ø–æ–∏–Ω—Ç | –ú–µ—Ç–æ–¥ | –û–∂–∏–¥–∞–µ–º—ã–π —Å—Ç–∞—Ç—É—Å |
|----------|-------|------------------|
| /api/offers | GET | 200 |
| /api/offers/:id | GET | 200 |
| /api/complexes | GET | 200 |
| /api/complexes/:id | GET | 200 |
| /api/filters | GET | 200 |
| /api/selections/shared/:code | GET | 200 |

### 11.2 –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (—Å JWT)
| –≠–Ω–¥–ø–æ–∏–Ω—Ç | –ú–µ—Ç–æ–¥ | –†–æ–ª—å | –û–∂–∏–¥–∞–µ–º—ã–π —Å—Ç–∞—Ç—É—Å |
|----------|-------|------|------------------|
| /api/favorites | GET | –ª—é–±–∞—è | 200 |
| /api/favorites/:offerId | POST | –ª—é–±–∞—è | 200/201 |
| /api/favorites/:offerId | DELETE | –ª—é–±–∞—è | 200 |
| /api/selections | GET | agent | 200 |
| /api/selections | POST | agent | 201 |
| /api/selections/my | GET | client | 200 |
| /api/clients | GET | agent | 200 |
| /api/clients | POST | agent | 201 |
| /api/agencies | GET | –ª—é–±–∞—è | 200 |
| /api/agencies/:slug/link | POST | client | 200 |

### 11.3 –û—à–∏–±–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
| –≠–Ω–¥–ø–æ–∏–Ω—Ç | –ë–µ–∑ —Ç–æ–∫–µ–Ω–∞ | –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω | –ù–µ–≤–µ—Ä–Ω–∞—è —Ä–æ–ª—å |
|----------|------------|----------------|---------------|
| /api/selections | 401 | 401 | 403 |
| /api/clients | 401 | 401 | 403 |

---

## 12. –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è

### 12.1 –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
| –°—Ç—Ä–∞–Ω–∏—Ü–∞ | –ü—Ä–æ–≤–µ—Ä–∫–∞ |
|----------|----------|
| /offers | –ö–∞—Ä—Ç–æ—á–∫–∏ –≤ 1 –∫–æ–ª–æ–Ω–∫—É, —Ñ–∏–ª—å—Ç—Ä—ã —Å–≤–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è |
| /offers/[id] | –ì–∞–ª–µ—Ä–µ—è –∞–¥–∞–ø—Ç–∏–≤–Ω–∞, —Ñ–æ—Ä–º–∞ –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É |
| /map | –ö–∞—Ä—Ç–∞ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω |
| Header | –ë—É—Ä–≥–µ—Ä-–º–µ–Ω—é —Ä–∞–±–æ—Ç–∞–µ—Ç |

---

## 13. –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã / –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **POST /api/selections –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 405** ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ç–æ–∫–µ–Ω —Å —Ä–æ–ª—å—é agent/admin
2. **404 –Ω–∞ favorites/:offerId** ‚Äî –Ω—É–∂–µ–Ω –≤–∞–ª–∏–¥–Ω—ã–π offerId —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞
3. **–ò—Å—Ç–æ—Ä–∏—è —Ü–µ–Ω** ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ price_history

---

## 14. –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º

- [ ] –í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è
- [ ] –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ email+–∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ò–∑–±—Ä–∞–Ω–Ω–æ–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è
- [ ] –ü–æ–¥–±–æ—Ä–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ —à–∞—Ä—è—Ç—Å—è
- [ ] –§–æ—Ä–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–±–ª—é—Ä–µ–Ω–∞ –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö
- [ ] ref-–ø–∞—Ä–∞–º–µ—Ç—Ä –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è
- [ ] –ü—Ä–æ—Ñ–∏–ª—å –∫–ª–∏–µ–Ω—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ–¥–±–æ—Ä–∫–∏
- [ ] CRM –∫–ª–∏–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã
- [ ] –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –∞–¥–∞–ø—Ç–∏–≤–Ω–∞
